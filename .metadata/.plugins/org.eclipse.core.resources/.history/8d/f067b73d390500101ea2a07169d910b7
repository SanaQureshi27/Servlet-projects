package com.code.verse.dao;
import java.sql.*;
import com.code.verse.entity.User;
import com.code.verse.helper.ConnectionProvider; // Import connection provider

public class UserDao {
    private Connection con; // Declare connection variable

    public UserDao(Connection con) {
        this.con = con; // Initialize connection
    }

    public boolean saveUser(User user) {
        boolean f = false;

        try {
            String query = "INSERT INTO user(name, email, password, gender, about) VALUES(?, ?, ?, ?, ?)";
            PreparedStatement ps = this.con.prepareStatement(query);

            ps.setString(1, user.getName());
            ps.setString(2, user.getEmail());
            ps.setString(3, user.getPassword());
            ps.setString(4, user.getGender());
            ps.setString(5, user.getAbout());

             ps.executeUpdate();
                f = true; 
        
            }
            
         catch (SQLException e) {
            System.out.println("‚ùå SQL Exception: " + e.getMessage());
            e.printStackTrace();
        }

        return f;
    }
    
    public User getUserByEmailAndPassword(String email,String Password){
    	
    	User user=null;
    	
    	try {
    		
    		String query= "Select*from user where email=? and password=?";
    		PreparedStatement ps=con.prepareStatement(query);
    		
    		ps.setString(1, email);
    		ps.setString(2, Password);
    		ps.executeQuery();
    		
    		ResultSet set =ps.executeQuery();
    		
    		if(set.next()){
    	}
    	catch(Exception e) {
    		e.printStackTrace();
    	}
    	
    	}
		return user;
    	
    }
    
    
    
   
}
